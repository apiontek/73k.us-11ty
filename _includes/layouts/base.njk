<!doctype html>
<html lang="{{ metadata.language }}" id="html73k">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>{{ metadata.title }}{% if title %} · {{ title }}{% endif %}</title>
		<meta name="description" content="{{ description or metadata.description }}">

    {# favicons generated at https://realfavicongenerator.net/ #}
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#ff751c">
    <meta name="msapplication-TileColor" content="#ff751c">
    <meta name="theme-color" content="#382e22">

		{#- Atom and JSON feeds included by default #}
		<link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="{{ metadata.title }}">
		<link rel="alternate" href="/feed/feed.json" type="application/json" title="{{ metadata.title }}">

		{#- Uncomment this if you’d like folks to know that you used Eleventy to build your site!  #}
		<meta name="generator" content="{{ eleventy.generator }}">

    {# Fonts, with preconnect for criticality #}
    <link rel="preconnect" href="https://fonts.cdnfonts.com" crossorigin>
    <link href="https://fonts.cdnfonts.com/css/supercomputer" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/ibm-plex-sans" rel="stylesheet">
    <link href="https://fonts.cdnfonts.com/css/friz-quadrata-std" rel="stylesheet">
    {# OK to load code font later #}
    <link href="https://fonts.cdnfonts.com/css/jetbrains-mono" rel="preload" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link href="https://fonts.cdnfonts.com/css/jetbrains-mono" rel="stylesheet"></noscript>

		{#- Bundling CSS, scheme bundle, light #}
    {%- css "light" %}
    {% include "_includes/css/_bundle-base.njk" %}
    {% include "_includes/css/_variables-light.css" %}
    {% include "node_modules/prism-themes/themes/prism-coldark-cold.css" %}
    {% include "_includes/css/_bundle-post.njk" %}
    {% endcss %}

		{#- Bundling CSS, scheme bundle, dark #}
    {%- css "dark" %}
    {% include "_includes/css/_bundle-base.njk" %}
    {% include "_includes/css/_variables-dark.css" %}
    {% include "node_modules/prism-themes/themes/prism-coldark-dark.css" %}
    {% include "_includes/css/_bundle-post.njk" %}
    {% endcss %}

		{#- Render the CSS bundle using Inlined CSS (for the fastest site performance in production) #}
		{# <style>{% getBundle "css" %}</style> #}

    {# <link rel="stylesheet" href="common.css"> #}
    <link id="scheme-link-light" rel="stylesheet" href="{% getBundleFileUrl 'css', 'light' %}" media="(prefers-color-scheme: light)">
    <link id="scheme-link-dark" rel="stylesheet" href="{% getBundleFileUrl 'css', 'dark' %}" media="(prefers-color-scheme: dark)">

    {% if title == "Search" %}
    <link href="/_pagefind/pagefind-ui.css" rel="stylesheet">
    {% endif %}

	</head>
	<body>

    {# SVG asset bucket as sprite list #}
    {% include "_includes/layouts/svg-sprites.njk" %}

		<a href="#skip" class="visually-hidden skip-to-main">Skip to main content</a>

		<header id="head73k">

			<div><a href="/" class="home-link">{{ metadata.title }}</a></div>

			{#- Read more about `eleventy-navigation` at https://www.11ty.dev/docs/plugins/navigation/ #}
			<nav>
				<h2 class="visually-hidden">Top level navigation menu</h2>
				<ul class="nav">
				{%- for entry in collections.all | eleventyNavigation %}
					<li class="nav-item"><a href="{{ entry.url }}"{% if entry.url == page.url %} aria-current="page"{% endif %}>{{ entry.title }}</a></li>
				{%- endfor %}
				</ul>
        <svg id="scheme-toggler" class="icon"><use xlink:href="#bi-moon-fill"></use></svg>
			</nav>
		</header>

		<main id="skip">
			{{ content | safe }}
		</main>

		<footer>
      <div>
        <p>&copy; {% year %} <a href="/">Adam Piontek</a></p>
        <p>
          {%- for social in socials %}
          <a href="{{ social.href }}" aria-label="{{ social.alt }}" title="{{ social.alt }}"><svg class="icon"><use xlink:href="#{{ social.icon }}"></use></svg></a>
          {%- endfor %}
        </p>
      </div>
    </footer>

    {# build and render the JS #}
    <script>
      {{ "_includes/js/scheme-toggler.js" | esbuild | safe }}
    </script>

		<!-- Current page: {{ page.url | htmlBaseUrl }} -->
	</body>
</html>
